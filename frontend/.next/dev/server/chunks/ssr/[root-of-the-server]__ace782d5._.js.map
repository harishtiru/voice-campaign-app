{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/test/voice-campaign-app/frontend/pages/upload.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\nexport default function UploadPage() {\n  const [status, setStatus] = useState(\"\");\n  const router = useRouter();\n\n  async function handleFile(e) {\n    const file = e.target.files[0];\n    if (!file) return;\n    setStatus(\"Uploading...\");\n    const fd = new FormData();\n    fd.append(\"file\", file);\n\n    try {\n      const res = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: fd\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setStatus(`Inserted ${data.count} rows`);\n      } else {\n        setStatus(\"Upload failed: \" + (data.error || JSON.stringify(data)));\n      }\n    } catch (err) {\n      setStatus(\"Upload error: \" + String(err));\n    }\n  }\n\n  return (\n    <div style={{ padding: 24 }}>\n      <h2>Upload contacts CSV</h2>\n      <input type=\"file\" accept=\".csv\" onChange={handleFile} />\n      <p>{status}</p>\n      <p><button onClick={() => router.push(\"/\")}>Back</button></p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,SAAS,IAAA,oIAAS;IAExB,eAAe,WAAW,CAAC;QACzB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B,IAAI,CAAC,MAAM;QACX,UAAU;QACV,MAAM,KAAK,IAAI;QACf,GAAG,MAAM,CAAC,QAAQ;QAElB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,eAAe;gBACrC,QAAQ;gBACR,MAAM;YACR;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,IAAI,EAAE,EAAE;gBACV,UAAU,CAAC,SAAS,EAAE,KAAK,KAAK,CAAC,KAAK,CAAC;YACzC,OAAO;gBACL,UAAU,oBAAoB,CAAC,KAAK,KAAK,IAAI,KAAK,SAAS,CAAC,KAAK;YACnE;QACF,EAAE,OAAO,KAAK;YACZ,UAAU,mBAAmB,OAAO;QACtC;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACxB,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAM,MAAK;gBAAO,QAAO;gBAAO,UAAU;;;;;;0BAC3C,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;0BAAE,cAAA,qKAAC;oBAAO,SAAS,IAAM,OAAO,IAAI,CAAC;8BAAM;;;;;;;;;;;;;;;;;AAGlD"}}]
}